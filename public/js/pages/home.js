(function(_0x509e95,_0x4bca9b){const _0x5db300=a6_0x347b,_0x1754da=_0x509e95();while(!![]){try{const _0x4be1d0=-parseInt(_0x5db300(0xc6))/0x1*(-parseInt(_0x5db300(0xb1))/0x2)+-parseInt(_0x5db300(0xc5))/0x3+parseInt(_0x5db300(0xa8))/0x4+parseInt(_0x5db300(0xdf))/0x5*(parseInt(_0x5db300(0xca))/0x6)+parseInt(_0x5db300(0xaa))/0x7*(-parseInt(_0x5db300(0xc0))/0x8)+-parseInt(_0x5db300(0xc3))/0x9*(parseInt(_0x5db300(0xe0))/0xa)+parseInt(_0x5db300(0xba))/0xb*(parseInt(_0x5db300(0xdc))/0xc);if(_0x4be1d0===_0x4bca9b)break;else _0x1754da['push'](_0x1754da['shift']());}catch(_0x39e1eb){_0x1754da['push'](_0x1754da['shift']());}}}(a6_0x3e9c,0xec807),((()=>{'use strict';const _0x1ea3eb=a6_0x347b;var _0x3de24d={0x31:(_0x3cae5b,_0x7b814,_0x247517)=>{const _0xe42657=a6_0x347b;_0x247517['d'](_0x7b814,{'M':()=>_0x28a37f});var _0x5346d9=_0x247517(0x1ae);class _0x28a37f{static['validateEmail'](_0x5a5113){const _0xbb00fd=a6_0x347b;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/[_0xbb00fd(0xd1)](_0x5a5113);}static['isPhone'](_0x5bfb6a){const _0x1df4e1=a6_0x347b;let _0xb4afbc=_0x5bfb6a['replace'](/[^0-9+]/g,'');return _0xb4afbc[_0x1df4e1(0xa0)]('+84')&&(_0xb4afbc='0'+_0xb4afbc[_0x1df4e1(0xdb)](0x3)),/^(0)(3[2-9]|5[689]|7[06-9]|8[1-689]|9[0-46-9])[0-9]{7}$/['test'](_0xb4afbc);}static[_0xe42657(0xab)](_0x86b5ae,_0x1f5c63){const _0x171e1c=_0xe42657,_0x569eff=document[_0x171e1c(0x9e)]('.error-log[data-field=\x22'+_0x86b5ae+'\x22]');_0x569eff&&(''===_0x1f5c63?_0x569eff[_0x171e1c(0xbd)][_0x171e1c(0xcb)]('hidden'):_0x569eff[_0x171e1c(0xbd)]['remove'](_0x171e1c(0xd0)),_0x569eff['textContent']=_0x1f5c63);}static['clearError'](_0xf3d323){const _0x2de0d8=_0xe42657;this[_0x2de0d8(0xab)](_0xf3d323,'');}static[_0xe42657(0xbf)](_0x68a1be=''){const _0x1d8b4b=_0xe42657;window[_0x1d8b4b(0xb3)][_0x1d8b4b(0xd4)]=''+_0x5346d9['c']+_0x68a1be;}}},0x1ae:(_0x80dcfd,_0xed9534,_0xdc1efe)=>{_0xdc1efe['d'](_0xed9534,{'c':()=>_0x2c7a80});const _0x2c7a80='https://fluffy-telegram-r79rvrrrr4h6gw-80.app.github.dev/doan-phpcoban';},0x2d0:(_0x50c2a8,_0x33bbbe,_0x4907ea)=>{const _0x62a7e1=a6_0x347b;_0x4907ea['d'](_0x33bbbe,{'y':()=>_0x5bc303});var _0x10d224=_0x4907ea(0x1ae),_0xc75b48=_0x4907ea(0x31);const _0x5bc303=new class{[_0x62a7e1(0x9c)]=null;[_0x62a7e1(0xd6)]=null;[_0x62a7e1(0xb4)]=null;constructor(){const _0x581bec=_0x62a7e1;this[_0x581bec(0x9c)]=localStorage['getItem']('access_token'),this[_0x581bec(0xd7)]();}async[_0x62a7e1(0xa9)](_0x411abe){const _0x330dea=_0x62a7e1,_0x200ea3=new FormData();_0x200ea3[_0x330dea(0xb5)]('email',_0x411abe);const _0x37c961=_0x10d224['c']+'/api/check-email';try{const _0xc510c5=await fetch(_0x37c961,{'method':_0x330dea(0xa7),'body':_0x200ea3})['then'](_0xa8a14c=>_0xa8a14c['json']());return!!_0xc510c5[_0x330dea(0xde)]&&_0xc510c5[_0x330dea(0xcf)][_0x330dea(0xc2)];}catch(_0x3f1f6f){console[_0x330dea(0xa4)](_0x3f1f6f);}}async[_0x62a7e1(0xaf)](_0x4acaf1){const _0x5f4185=_0x62a7e1,_0xbd6c77=new FormData();_0xbd6c77['append']('phone_number',_0x4acaf1);const _0xdf0a05=_0x10d224['c']+_0x5f4185(0x9a);try{const _0x37b824=await fetch(_0xdf0a05,{'method':'post','body':_0xbd6c77})[_0x5f4185(0x9d)](_0x2c556b=>_0x2c556b[_0x5f4185(0xb8)]());return!!_0x37b824['success']&&_0x37b824[_0x5f4185(0xcf)]['exists'];}catch(_0x467a11){console[_0x5f4185(0xa4)](_0x467a11);}}[_0x62a7e1(0xcc)](){const _0x17e000=_0x62a7e1;return null!==this[_0x17e000(0x9c)];}async[_0x62a7e1(0xc1)](_0x71fefd){const _0x5a106=_0x62a7e1,_0x5a2f7c=_0x10d224['c']+_0x5a106(0xad);return await fetch(_0x5a2f7c,{'method':'post','body':_0x71fefd})[_0x5a106(0x9d)](_0x1d7bee=>_0x1d7bee[_0x5a106(0xb8)]());}async['activateAccount'](_0x41bae2){const _0x107cec=_0x62a7e1,_0x4bde3d=_0x10d224['c']+_0x107cec(0xa1);return await fetch(_0x4bde3d,{'method':_0x107cec(0xa7),'body':_0x41bae2})[_0x107cec(0x9d)](_0x1a064d=>_0x1a064d[_0x107cec(0xb8)]());}async[_0x62a7e1(0x9b)](_0x568cc3){const _0xee48b1=_0x62a7e1,_0x4e8cf1=_0x10d224['c']+_0xee48b1(0x9f),_0x20feb2=await fetch(_0x4e8cf1,{'method':_0xee48b1(0xa7),'body':_0x568cc3})[_0xee48b1(0x9d)](_0xc2bde3=>_0xc2bde3[_0xee48b1(0xb8)]());return _0x20feb2['success']&&(this[_0xee48b1(0x9c)]=_0x20feb2[_0xee48b1(0xcf)][_0xee48b1(0xac)],localStorage['setItem'](_0xee48b1(0xac),_0x20feb2[_0xee48b1(0xcf)][_0xee48b1(0xac)]),localStorage[_0xee48b1(0xda)](_0xee48b1(0xbc),String(_0x20feb2[_0xee48b1(0xcf)][_0xee48b1(0xc4)]))),_0x20feb2;}async[_0x62a7e1(0xa5)](_0x2edc7e){const _0x44760c=_0x62a7e1,_0x3546f6=_0x10d224['c']+_0x44760c(0xae);return await fetch(_0x3546f6,{'method':_0x44760c(0xa7),'body':_0x2edc7e})['then'](_0x503a8b=>_0x503a8b[_0x44760c(0xb8)]());}async[_0x62a7e1(0xb0)](_0x1381ce){const _0x44bcc9=_0x62a7e1,_0xe17523=_0x10d224['c']+_0x44bcc9(0xce);return await fetch(_0xe17523,{'method':'post','body':_0x1381ce})['then'](_0x3263f8=>_0x3263f8[_0x44bcc9(0xb8)]());}async[_0x62a7e1(0xb9)](){const _0x7bce10=_0x62a7e1,_0x53000b=this[_0x7bce10(0x9c)];this['accessToken']=null,this[_0x7bce10(0xa2)](),localStorage['removeItem'](_0x7bce10(0xac)),localStorage['removeItem']('token_expires_at');try{const _0xb8d672=_0x10d224['c']+'/api/logout';await fetch(_0xb8d672,{'method':_0x7bce10(0xa7),'headers':{'Authorization':'Bearer\x20'+_0x53000b}})[_0x7bce10(0x9d)](_0x5c2c50=>_0x5c2c50['json']());}catch(_0x3ed8f1){console[_0x7bce10(0xa4)](_0x7bce10(0x99),_0x3ed8f1);}_0xc75b48['M'][_0x7bce10(0xbf)](_0x7bce10(0xb6));}async[_0x62a7e1(0xc9)](_0x289d2e,_0x1fe382={}){const _0x16bc79=_0x62a7e1,_0x13c20b=this['accessToken'],_0x4a4255=new Headers(_0x1fe382[_0x16bc79(0xbb)]||{});_0x13c20b&&_0x4a4255[_0x16bc79(0xcd)](_0x16bc79(0xb7),_0x16bc79(0xd3)+_0x13c20b),_0x1fe382[_0x16bc79(0xbb)]=_0x4a4255;let _0x4667d6=await fetch(_0x289d2e,_0x1fe382);if(0x191===_0x4667d6[_0x16bc79(0xc8)])try{const _0xc86e92=await this[_0x16bc79(0xa3)]();_0x4a4255[_0x16bc79(0xcd)](_0x16bc79(0xb7),'Bearer\x20'+_0xc86e92),_0x1fe382[_0x16bc79(0xbb)]=_0x4a4255,console[_0x16bc79(0xa6)]('Token\x20refreshed.\x20Retrying\x20the\x20original\x20request...'),_0x4667d6=await fetch(_0x289d2e,_0x1fe382);}catch(_0x5933d0){console['error'](_0x16bc79(0xd8),_0x5933d0),this[_0x16bc79(0xb9)](),_0xc75b48['M'][_0x16bc79(0xbf)](_0x16bc79(0xb6));}return _0x4667d6;}async[_0x62a7e1(0xa3)](){const _0x4e9948=_0x62a7e1;if(!this[_0x4e9948(0xd6)]){const _0x1a6055=_0x10d224['c']+_0x4e9948(0xd5);this[_0x4e9948(0xd6)]=fetch(_0x1a6055,{'method':'POST'})[_0x4e9948(0x9d)](async _0x3d8b02=>{const _0x3db0e5=_0x4e9948;if(!_0x3d8b02['ok'])throw new Error(_0x3db0e5(0xb2));const _0x2a2124=await _0x3d8b02[_0x3db0e5(0xb8)]();if(_0x2a2124[_0x3db0e5(0xde)])return this['accessToken']=_0x2a2124[_0x3db0e5(0xcf)][_0x3db0e5(0xac)],localStorage[_0x3db0e5(0xda)](_0x3db0e5(0xac),this['accessToken']),localStorage[_0x3db0e5(0xda)](_0x3db0e5(0xbc),String(_0x2a2124[_0x3db0e5(0xcf)]['expires_in'])),this['scheduleNextTokenRefresh'](),this['accessToken'];throw new Error(_0x2a2124['message']||'Đã\x20xảy\x20ra\x20lỗi\x20từ\x20refresh\x20token\x20API');})['finally'](()=>{this['refreshTokenPromise']=null;});}return this['refreshTokenPromise'];}[_0x62a7e1(0xa2)](){const _0x4e2656=_0x62a7e1;this[_0x4e2656(0xb4)]&&(clearTimeout(this[_0x4e2656(0xb4)]),this[_0x4e2656(0xb4)]=null);}async[_0x62a7e1(0xd7)](){const _0x4772c1=_0x62a7e1;this[_0x4772c1(0xa2)]();const _0x716244=localStorage['getItem'](_0x4772c1(0xbc));if(!_0x716244)return;const _0x514b09=0x3e8*parseInt(_0x716244,0xa)-Date['now']()-0xea60;if(_0x514b09>0x0)this[_0x4772c1(0xb4)]=setTimeout(async()=>{const _0x447555=_0x4772c1;try{await this[_0x447555(0xa3)]();}catch(_0x394592){this[_0x447555(0xb9)]();}},_0x514b09);else try{await this[_0x4772c1(0xa3)]();}catch(_0x7f5f58){this['logout']();}}}();}},_0x2fb96b={};function _0x2b3ce0(_0x408af7){const _0x3b9f5d=a6_0x347b;var _0x147f10=_0x2fb96b[_0x408af7];if(void 0x0!==_0x147f10)return _0x147f10[_0x3b9f5d(0xd9)];var _0x41fdd6=_0x2fb96b[_0x408af7]={'exports':{}};return _0x3de24d[_0x408af7](_0x41fdd6,_0x41fdd6[_0x3b9f5d(0xd9)],_0x2b3ce0),_0x41fdd6[_0x3b9f5d(0xd9)];}_0x2b3ce0['d']=(_0x74efbe,_0x39e5dd)=>{const _0xe26ca3=a6_0x347b;for(var _0x483b81 in _0x39e5dd)_0x2b3ce0['o'](_0x39e5dd,_0x483b81)&&!_0x2b3ce0['o'](_0x74efbe,_0x483b81)&&Object[_0xe26ca3(0xc7)](_0x74efbe,_0x483b81,{'enumerable':!0x0,'get':_0x39e5dd[_0x483b81]});},_0x2b3ce0['o']=(_0x1ba1e4,_0x2c6fbc)=>Object[_0x1ea3eb(0xbe)][_0x1ea3eb(0xdd)]['call'](_0x1ba1e4,_0x2c6fbc);var _0x30f529=_0x2b3ce0(0x2d0);const _0x22523a=document[_0x1ea3eb(0xd2)]('btn-logout');_0x22523a?.['addEventListener']('click',async()=>{await _0x30f529['y']['logout']();});})()));function a6_0x347b(_0x228745,_0x510f7d){const _0x3e9c6a=a6_0x3e9c();return a6_0x347b=function(_0x347b24,_0x3d1b72){_0x347b24=_0x347b24-0x99;let _0x3a6178=_0x3e9c6a[_0x347b24];return _0x3a6178;},a6_0x347b(_0x228745,_0x510f7d);}function a6_0x3e9c(){const _0xf3fdc=['log','post','2441648zNiGRh','checkEmailExists','2233609MIsfUm','displayError','access_token','/api/register','/api/forgot-password','checkPhoneNumberExists','resetPassword','12eIRHdn','Refresh\x20token\x20không\x20hợp\x20lệ\x20hoặc\x20đã\x20hết\x20hạn.','location','refreshTimeoutId','append','/login','Authorization','json','logout','608267BbSZvj','headers','token_expires_at','classList','prototype','redirect','24rLtHbt','register','exists','3339spViah','expires_in','2063070mViwWr','185008MAeQjI','defineProperty','status','fetchWithAuth','170802mFKHYU','add','isLoggedIn','set','/api/reset-password','data','hidden','test','getElementById','Bearer\x20','href','/api/refresh-token','refreshTokenPromise','scheduleNextTokenRefresh','Lấy\x20token\x20thất\x20bại.\x20Đăng\x20xuất.','exports','setItem','slice','72kLoXdf','hasOwnProperty','success','125FySrLs','4050PhNjFD','Lỗi\x20khi\x20gọi\x20API\x20logout:','/api/check-phone-number','login','accessToken','then','querySelector','/api/login','startsWith','/api/activate','stopTokenRefreshTimer','refreshToken','error','forgotPassword'];a6_0x3e9c=function(){return _0xf3fdc;};return a6_0x3e9c();}