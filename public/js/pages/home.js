function a6_0x31f8(_0x2a5df7,_0x22cab8){const _0x3f2222=a6_0x3f22();return a6_0x31f8=function(_0x31f883,_0x4a739e){_0x31f883=_0x31f883-0xa3;let _0x3a3c55=_0x3f2222[_0x31f883];return _0x3a3c55;},a6_0x31f8(_0x2a5df7,_0x22cab8);}(function(_0x3757bb,_0x2e34ec){const _0x5a7998=a6_0x31f8,_0x3e8404=_0x3757bb();while(!![]){try{const _0x5e4f4a=-parseInt(_0x5a7998(0xbd))/0x1+parseInt(_0x5a7998(0xd3))/0x2+-parseInt(_0x5a7998(0xb9))/0x3*(parseInt(_0x5a7998(0xd2))/0x4)+-parseInt(_0x5a7998(0xef))/0x5*(parseInt(_0x5a7998(0xbc))/0x6)+-parseInt(_0x5a7998(0xdf))/0x7+parseInt(_0x5a7998(0xce))/0x8+-parseInt(_0x5a7998(0xaf))/0x9*(-parseInt(_0x5a7998(0xe7))/0xa);if(_0x5e4f4a===_0x2e34ec)break;else _0x3e8404['push'](_0x3e8404['shift']());}catch(_0x418e6d){_0x3e8404['push'](_0x3e8404['shift']());}}}(a6_0x3f22,0xd4210),((()=>{'use strict';const _0x451cfb=a6_0x31f8;var _0x25f7cf={0x31:(_0x243d72,_0x2fdf6d,_0x33abe7)=>{const _0x20d76=a6_0x31f8;_0x33abe7['d'](_0x2fdf6d,{'M':()=>_0x4ec9e4});var _0x2787b3=_0x33abe7(0x1ae);class _0x4ec9e4{static[_0x20d76(0xde)](_0x45f8d9){const _0x1f305f=_0x20d76;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/[_0x1f305f(0xc0)](_0x45f8d9);}static[_0x20d76(0xd1)](_0xd1b6dd){const _0x400e49=_0x20d76;let _0x4475a7=_0xd1b6dd[_0x400e49(0xe5)](/[^0-9+]/g,'');return _0x4475a7[_0x400e49(0xc5)](_0x400e49(0xf5))&&(_0x4475a7='0'+_0x4475a7[_0x400e49(0xe2)](0x3)),/^(0)(3[2-9]|5[689]|7[06-9]|8[1-689]|9[0-46-9])[0-9]{7}$/[_0x400e49(0xc0)](_0x4475a7);}static[_0x20d76(0xae)](_0x486ef0,_0x4dadbe){const _0x397676=_0x20d76,_0x43c4ca=document[_0x397676(0xa3)](_0x397676(0xa6)+_0x486ef0+'\x22]');_0x43c4ca&&(''===_0x4dadbe?_0x43c4ca[_0x397676(0xaa)]['add']('hidden'):_0x43c4ca['classList'][_0x397676(0xd6)](_0x397676(0xa5)),_0x43c4ca[_0x397676(0xa9)]=_0x4dadbe);}static['clearError'](_0x3d4dc1){this['displayError'](_0x3d4dc1,'');}static['redirect'](_0x3e41d1=''){const _0x516a68=_0x20d76;window[_0x516a68(0xb4)]['href']=''+_0x2787b3['c']+_0x3e41d1;}}},0x1ae:(_0x212ad5,_0x5ca414,_0x24f51c)=>{_0x24f51c['d'](_0x5ca414,{'c':()=>_0x438a75});const _0x438a75='https://fluffy-telegram-r79rvrrrr4h6gw-80.app.github.dev/doan-phpcoban';},0x2d0:(_0x63c249,_0x58d734,_0x36dbf2)=>{const _0x2d6633=a6_0x31f8;_0x36dbf2['d'](_0x58d734,{'y':()=>_0x3aa52a});var _0x30f323=_0x36dbf2(0x1ae),_0x3b6691=_0x36dbf2(0x31);const _0x3aa52a=new class{[_0x2d6633(0xf0)]=null;[_0x2d6633(0xa8)]=null;[_0x2d6633(0xc6)]=null;constructor(){const _0x1edc2d=_0x2d6633;this[_0x1edc2d(0xf0)]=localStorage[_0x1edc2d(0xb8)]('access_token'),this['scheduleNextTokenRefresh']();}async[_0x2d6633(0xd9)](_0x58831d){const _0x2314d2=_0x2d6633,_0x227ccb=new FormData();_0x227ccb[_0x2314d2(0xc9)](_0x2314d2(0xbe),_0x58831d);const _0x2c1e05=_0x30f323['c']+_0x2314d2(0xc1);try{const _0xc86d39=await fetch(_0x2c1e05,{'method':_0x2314d2(0xcb),'body':_0x227ccb})[_0x2314d2(0xdd)](_0x33ffd7=>_0x33ffd7[_0x2314d2(0xb2)]());return!!_0xc86d39[_0x2314d2(0xe8)]&&_0xc86d39[_0x2314d2(0xf1)]['exists'];}catch(_0x39f20a){console[_0x2314d2(0xe0)](_0x39f20a);}}async[_0x2d6633(0xc3)](_0x5bf4b8){const _0x3a23eb=_0x2d6633,_0x129d59=new FormData();_0x129d59[_0x3a23eb(0xc9)]('phone_number',_0x5bf4b8);const _0x1bfd8e=_0x30f323['c']+'/api/check-phone-number';try{const _0x55023d=await fetch(_0x1bfd8e,{'method':_0x3a23eb(0xcb),'body':_0x129d59})['then'](_0x4bb5e5=>_0x4bb5e5[_0x3a23eb(0xb2)]());return!!_0x55023d[_0x3a23eb(0xe8)]&&_0x55023d[_0x3a23eb(0xf1)][_0x3a23eb(0xc2)];}catch(_0x24d6b2){console[_0x3a23eb(0xe0)](_0x24d6b2);}}['isLoggedIn'](){const _0x487ba8=_0x2d6633;return null!==this[_0x487ba8(0xf0)];}async['register'](_0x2a2577){const _0x26f09c=_0x2d6633,_0x5ac793=_0x30f323['c']+_0x26f09c(0xda);return await fetch(_0x5ac793,{'method':'post','body':_0x2a2577})[_0x26f09c(0xdd)](_0x5115ed=>_0x5115ed['json']());}async[_0x2d6633(0xac)](_0x4fee9a){const _0x55409c=_0x2d6633,_0x335f21=_0x30f323['c']+_0x55409c(0xed);return await fetch(_0x335f21,{'method':_0x55409c(0xcb),'body':_0x4fee9a})[_0x55409c(0xdd)](_0x39a4ce=>_0x39a4ce[_0x55409c(0xb2)]());}async[_0x2d6633(0xcf)](_0x4e6cbb){const _0x2ea471=_0x2d6633,_0x257dec=_0x30f323['c']+_0x2ea471(0xc4),_0x47a36a=await fetch(_0x257dec,{'method':_0x2ea471(0xcb),'body':_0x4e6cbb})[_0x2ea471(0xdd)](_0x33f15e=>_0x33f15e[_0x2ea471(0xb2)]());return _0x47a36a[_0x2ea471(0xe8)]&&(this[_0x2ea471(0xf0)]=_0x47a36a[_0x2ea471(0xf1)]['access_token'],localStorage['setItem'](_0x2ea471(0xe4),_0x47a36a[_0x2ea471(0xf1)]['access_token']),localStorage['setItem'](_0x2ea471(0xf2),String(_0x47a36a[_0x2ea471(0xf1)][_0x2ea471(0xe1)]))),_0x47a36a;}async[_0x2d6633(0xbb)](_0x4016c2){const _0x11b605=_0x2d6633,_0x518d17=_0x30f323['c']+_0x11b605(0xec);return await fetch(_0x518d17,{'method':_0x11b605(0xcb),'body':_0x4016c2})[_0x11b605(0xdd)](_0x24ca3a=>_0x24ca3a[_0x11b605(0xb2)]());}async['resetPassword'](_0x212b17){const _0x2fa1b0=_0x2d6633,_0x1a5ec3=_0x30f323['c']+_0x2fa1b0(0xf3);return await fetch(_0x1a5ec3,{'method':_0x2fa1b0(0xcb),'body':_0x212b17})[_0x2fa1b0(0xdd)](_0x461855=>_0x461855[_0x2fa1b0(0xb2)]());}async['logout'](){const _0x557de2=_0x2d6633,_0x38e2f9=this[_0x557de2(0xf0)];this[_0x557de2(0xf0)]=null,this[_0x557de2(0xc8)](),localStorage[_0x557de2(0xc7)](_0x557de2(0xe4)),localStorage[_0x557de2(0xc7)](_0x557de2(0xf2));try{const _0x1c7203=_0x30f323['c']+_0x557de2(0xba);await fetch(_0x1c7203,{'method':_0x557de2(0xcb),'headers':{'Authorization':_0x557de2(0xdb)+_0x38e2f9}})[_0x557de2(0xdd)](_0x3c5ddb=>_0x3c5ddb[_0x557de2(0xb2)]());}catch(_0x451661){console['error']('Lỗi\x20khi\x20gọi\x20API\x20logout:',_0x451661);}_0x3b6691['M'][_0x557de2(0xbf)]('/login');}async[_0x2d6633(0xb0)](_0x1efad4,_0x55d830={}){const _0x4931a4=_0x2d6633,_0x37f973=this[_0x4931a4(0xf0)],_0xfe4805=new Headers(_0x55d830[_0x4931a4(0xa7)]||{});_0x37f973&&_0xfe4805[_0x4931a4(0xe9)](_0x4931a4(0xca),_0x4931a4(0xdb)+_0x37f973),_0x55d830[_0x4931a4(0xa7)]=_0xfe4805;let _0x3b0f9f=await fetch(_0x1efad4,_0x55d830);if(0x191===_0x3b0f9f[_0x4931a4(0xa4)])try{const _0x51207d=await this[_0x4931a4(0xd0)]();_0xfe4805[_0x4931a4(0xe9)](_0x4931a4(0xca),_0x4931a4(0xdb)+_0x51207d),_0x55d830['headers']=_0xfe4805,console[_0x4931a4(0xea)](_0x4931a4(0xb3)),_0x3b0f9f=await fetch(_0x1efad4,_0x55d830);}catch(_0x367f6f){console[_0x4931a4(0xe0)](_0x4931a4(0xd5),_0x367f6f),this[_0x4931a4(0xb5)](),_0x3b6691['M'][_0x4931a4(0xbf)](_0x4931a4(0xb6));}return _0x3b0f9f;}async[_0x2d6633(0xd0)](){const _0x152383=_0x2d6633;if(!this[_0x152383(0xa8)]){const _0x2ff00c=_0x30f323['c']+_0x152383(0xee);this[_0x152383(0xa8)]=fetch(_0x2ff00c,{'method':_0x152383(0xcc)})['then'](async _0x308953=>{const _0xd35e05=_0x152383;if(!_0x308953['ok'])throw new Error(_0xd35e05(0xab));const _0x157a04=await _0x308953[_0xd35e05(0xb2)]();if(_0x157a04['success'])return this[_0xd35e05(0xf0)]=_0x157a04[_0xd35e05(0xf1)]['access_token'],localStorage['setItem']('access_token',this[_0xd35e05(0xf0)]),localStorage[_0xd35e05(0xb1)](_0xd35e05(0xf2),String(_0x157a04[_0xd35e05(0xf1)][_0xd35e05(0xe1)])),this[_0xd35e05(0xe6)](),this[_0xd35e05(0xf0)];throw new Error(_0x157a04[_0xd35e05(0xf4)]||_0xd35e05(0xad));})[_0x152383(0xcd)](()=>{const _0x2fa39a=_0x152383;this[_0x2fa39a(0xa8)]=null;});}return this[_0x152383(0xa8)];}[_0x2d6633(0xc8)](){const _0x19383b=_0x2d6633;this['refreshTimeoutId']&&(clearTimeout(this[_0x19383b(0xc6)]),this[_0x19383b(0xc6)]=null);}async[_0x2d6633(0xe6)](){const _0x277be7=_0x2d6633;this['stopTokenRefreshTimer']();const _0x318faf=localStorage['getItem'](_0x277be7(0xf2));if(!_0x318faf)return;const _0x5672bb=0x3e8*parseInt(_0x318faf,0xa)-Date['now']()-0xea60;if(_0x5672bb>0x0)this[_0x277be7(0xc6)]=setTimeout(async()=>{const _0x33bcdc=_0x277be7;try{await this[_0x33bcdc(0xd0)]();}catch(_0x37817f){console['error'](_0x33bcdc(0xd8),_0x37817f);}},_0x5672bb);else try{await this[_0x277be7(0xd0)]();}catch(_0x45ea16){console['error']('Tự\x20động\x20làm\x20mới\x20token\x20thất\x20bại:',_0x45ea16);}}}();}},_0x3ecce5={};function _0x29f4e2(_0x47b732){const _0x2f5a44=a6_0x31f8;var _0x8c0bc=_0x3ecce5[_0x47b732];if(void 0x0!==_0x8c0bc)return _0x8c0bc[_0x2f5a44(0xd7)];var _0x518654=_0x3ecce5[_0x47b732]={'exports':{}};return _0x25f7cf[_0x47b732](_0x518654,_0x518654[_0x2f5a44(0xd7)],_0x29f4e2),_0x518654[_0x2f5a44(0xd7)];}_0x29f4e2['d']=(_0xdf09dd,_0x5ad476)=>{for(var _0x13785c in _0x5ad476)_0x29f4e2['o'](_0x5ad476,_0x13785c)&&!_0x29f4e2['o'](_0xdf09dd,_0x13785c)&&Object['defineProperty'](_0xdf09dd,_0x13785c,{'enumerable':!0x0,'get':_0x5ad476[_0x13785c]});},_0x29f4e2['o']=(_0x449588,_0x3393f5)=>Object[_0x451cfb(0xd4)][_0x451cfb(0xeb)][_0x451cfb(0xe3)](_0x449588,_0x3393f5);var _0x1a5099=_0x29f4e2(0x2d0);const _0x5f2dcb=document[_0x451cfb(0xb7)](_0x451cfb(0xdc));_0x5f2dcb?.['addEventListener']('click',async()=>{const _0x32afee=_0x451cfb;await _0x1a5099['y'][_0x32afee(0xb5)]();});})()));function a6_0x3f22(){const _0x399076=['btn-logout','then','validateEmail','9311162qaJZhk','error','expires_in','slice','call','access_token','replace','scheduleNextTokenRefresh','2014150nhCowd','success','set','log','hasOwnProperty','/api/forgot-password','/api/activate','/api/refresh-token','360AylMGO','accessToken','data','token_expires_at','/api/reset-password','message','+84','querySelector','status','hidden','.error-log[data-field=\x22','headers','refreshTokenPromise','textContent','classList','Refresh\x20token\x20không\x20hợp\x20lệ\x20hoặc\x20đã\x20hết\x20hạn.','activateAccount','Đã\x20xảy\x20ra\x20lỗi\x20từ\x20refresh\x20token\x20API','displayError','153VTPyoM','fetchWithAuth','setItem','json','Token\x20refreshed.\x20Retrying\x20the\x20original\x20request...','location','logout','/login','getElementById','getItem','4842159hBNSYF','/api/logout','forgotPassword','41334HrNijF','685199IaMnEb','email','redirect','test','/api/check-email','exists','checkPhoneNumberExists','/api/login','startsWith','refreshTimeoutId','removeItem','stopTokenRefreshTimer','append','Authorization','post','POST','finally','1901776HyQood','login','refreshToken','isPhone','4RskLpZ','2665058CKmCGL','prototype','Lấy\x20token\x20thất\x20bại.\x20Đăng\x20xuất.','remove','exports','Tự\x20động\x20làm\x20mới\x20token\x20thất\x20bại:','checkEmailExists','/api/register','Bearer\x20'];a6_0x3f22=function(){return _0x399076;};return a6_0x3f22();}