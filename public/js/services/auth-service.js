(function(_0x117f50,_0x39bf1d){const _0xa5cb59=a5_0x2490,_0x1cc6d6=_0x117f50();while(!![]){try{const _0x1d7dad=-parseInt(_0xa5cb59(0x169))/0x1*(parseInt(_0xa5cb59(0x177))/0x2)+-parseInt(_0xa5cb59(0x15f))/0x3+-parseInt(_0xa5cb59(0x12e))/0x4+parseInt(_0xa5cb59(0x16b))/0x5+-parseInt(_0xa5cb59(0x131))/0x6*(-parseInt(_0xa5cb59(0x167))/0x7)+parseInt(_0xa5cb59(0x179))/0x8*(-parseInt(_0xa5cb59(0x174))/0x9)+parseInt(_0xa5cb59(0x14d))/0xa;if(_0x1d7dad===_0x39bf1d)break;else _0x1cc6d6['push'](_0x1cc6d6['shift']());}catch(_0x2ce6da){_0x1cc6d6['push'](_0x1cc6d6['shift']());}}}(a5_0x4b67,0xa06e6),((()=>{'use strict';const _0x5fdfc5=a5_0x2490;var _0x375f2b={0x31:(_0x209df8,_0xff30ad,_0x1970d3)=>{const _0x42a462=a5_0x2490;_0x1970d3['d'](_0xff30ad,{'M':()=>_0x5478fa});var _0x5594e6=_0x1970d3(0x1ae);class _0x5478fa{static[_0x42a462(0x13c)](_0x5eb3d2){const _0x4854ba=_0x42a462;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/[_0x4854ba(0x168)](_0x5eb3d2);}static[_0x42a462(0x148)](_0x3a31ea){const _0x5bb68e=_0x42a462;let _0x431c40=_0x3a31ea[_0x5bb68e(0x157)](/[^0-9+]/g,'');return _0x431c40[_0x5bb68e(0x130)](_0x5bb68e(0x13b))&&(_0x431c40='0'+_0x431c40[_0x5bb68e(0x145)](0x3)),/^(0)(3[2-9]|5[689]|7[06-9]|8[1-689]|9[0-46-9])[0-9]{7}$/['test'](_0x431c40);}static['displayError'](_0x5a23c7,_0x14d77a){const _0x306261=_0x42a462,_0x404775=document[_0x306261(0x16e)](_0x306261(0x13f)+_0x5a23c7+'\x22]');_0x404775&&(''===_0x14d77a?_0x404775[_0x306261(0x172)]['add'](_0x306261(0x160)):_0x404775['classList']['remove'](_0x306261(0x160)),_0x404775['textContent']=_0x14d77a);}static[_0x42a462(0x16d)](_0x2d6a13){const _0x4198e2=_0x42a462;this[_0x4198e2(0x17b)](_0x2d6a13,'');}static[_0x42a462(0x164)](_0x3392c2=''){const _0xaa569a=_0x42a462;window[_0xaa569a(0x175)][_0xaa569a(0x13d)]=''+_0x5594e6['c']+_0x3392c2;}}},0x1ae:(_0x40c86f,_0x1b3819,_0x3985e7)=>{const _0x716b14=a5_0x2490;_0x3985e7['d'](_0x1b3819,{'c':()=>_0x3cbd82});const _0x3cbd82=_0x716b14(0x170);}},_0x22d58a={};function _0x488e26(_0x426c93){const _0x5e6598=a5_0x2490;var _0x1b657f=_0x22d58a[_0x426c93];if(void 0x0!==_0x1b657f)return _0x1b657f[_0x5e6598(0x12b)];var _0x20a518=_0x22d58a[_0x426c93]={'exports':{}};return _0x375f2b[_0x426c93](_0x20a518,_0x20a518[_0x5e6598(0x12b)],_0x488e26),_0x20a518[_0x5e6598(0x12b)];}_0x488e26['d']=(_0x3e229f,_0x4e6b97)=>{const _0x402acf=a5_0x2490;for(var _0x475902 in _0x4e6b97)_0x488e26['o'](_0x4e6b97,_0x475902)&&!_0x488e26['o'](_0x3e229f,_0x475902)&&Object[_0x402acf(0x16f)](_0x3e229f,_0x475902,{'enumerable':!0x0,'get':_0x4e6b97[_0x475902]});},_0x488e26['o']=(_0x31b7d7,_0x276488)=>Object[_0x5fdfc5(0x176)][_0x5fdfc5(0x137)][_0x5fdfc5(0x136)](_0x31b7d7,_0x276488);var _0x2ded59=_0x488e26(0x1ae),_0x483f54=_0x488e26(0x31);new class{[_0x5fdfc5(0x15e)]=null;[_0x5fdfc5(0x152)]=null;[_0x5fdfc5(0x162)]=null;constructor(){const _0x58a24b=_0x5fdfc5;this[_0x58a24b(0x15e)]=localStorage[_0x58a24b(0x141)](_0x58a24b(0x133)),this[_0x58a24b(0x135)]();}async[_0x5fdfc5(0x165)](_0x215d30){const _0x59df52=_0x5fdfc5,_0x45d0ae=new FormData();_0x45d0ae[_0x59df52(0x129)](_0x59df52(0x134),_0x215d30);const _0x377704=_0x2ded59['c']+_0x59df52(0x132);try{const _0x38b193=await fetch(_0x377704,{'method':_0x59df52(0x163),'body':_0x45d0ae})[_0x59df52(0x15c)](_0x118d01=>_0x118d01[_0x59df52(0x14e)]());return!!_0x38b193[_0x59df52(0x16c)]&&_0x38b193['data'][_0x59df52(0x155)];}catch(_0x430b07){console[_0x59df52(0x142)](_0x430b07);}}async[_0x5fdfc5(0x173)](_0x174b21){const _0x213dea=_0x5fdfc5,_0x9979d5=new FormData();_0x9979d5['append']('phone_number',_0x174b21);const _0x459d1d=_0x2ded59['c']+_0x213dea(0x139);try{const _0x5ed08f=await fetch(_0x459d1d,{'method':_0x213dea(0x163),'body':_0x9979d5})[_0x213dea(0x15c)](_0x4156a0=>_0x4156a0[_0x213dea(0x14e)]());return!!_0x5ed08f[_0x213dea(0x16c)]&&_0x5ed08f[_0x213dea(0x156)][_0x213dea(0x155)];}catch(_0x420d0a){console[_0x213dea(0x142)](_0x420d0a);}}[_0x5fdfc5(0x147)](){return null!==this['accessToken'];}async[_0x5fdfc5(0x144)](_0x2a6792){const _0xb0c686=_0x5fdfc5,_0x1a91ef=_0x2ded59['c']+'/api/register';return await fetch(_0x1a91ef,{'method':_0xb0c686(0x163),'body':_0x2a6792})[_0xb0c686(0x15c)](_0x4d3daa=>_0x4d3daa[_0xb0c686(0x14e)]());}async[_0x5fdfc5(0x159)](_0x52493a){const _0x147c51=_0x5fdfc5,_0x46b496=_0x2ded59['c']+'/api/activate';return await fetch(_0x46b496,{'method':_0x147c51(0x163),'body':_0x52493a})[_0x147c51(0x15c)](_0x25f65f=>_0x25f65f[_0x147c51(0x14e)]());}async[_0x5fdfc5(0x140)](_0x289508){const _0x23c0c1=_0x5fdfc5,_0x72dda2=_0x2ded59['c']+_0x23c0c1(0x150),_0xa69522=await fetch(_0x72dda2,{'method':_0x23c0c1(0x163),'body':_0x289508})['then'](_0x9ab3de=>_0x9ab3de[_0x23c0c1(0x14e)]());return _0xa69522[_0x23c0c1(0x16c)]&&(this[_0x23c0c1(0x15e)]=_0xa69522[_0x23c0c1(0x156)]['access_token'],localStorage[_0x23c0c1(0x14a)](_0x23c0c1(0x133),_0xa69522['data']['access_token']),localStorage[_0x23c0c1(0x14a)](_0x23c0c1(0x15d),String(_0xa69522[_0x23c0c1(0x156)][_0x23c0c1(0x153)]))),_0xa69522;}async['forgotPassword'](_0x358ec0){const _0x136ac7=_0x5fdfc5,_0x4dd62f=_0x2ded59['c']+_0x136ac7(0x14b);return await fetch(_0x4dd62f,{'method':'post','body':_0x358ec0})['then'](_0xfc111d=>_0xfc111d[_0x136ac7(0x14e)]());}async['resetPassword'](_0x31cbdf){const _0x1f892f=_0x5fdfc5,_0xf0cf1e=_0x2ded59['c']+_0x1f892f(0x14c);return await fetch(_0xf0cf1e,{'method':_0x1f892f(0x163),'body':_0x31cbdf})[_0x1f892f(0x15c)](_0x5bc130=>_0x5bc130[_0x1f892f(0x14e)]());}async[_0x5fdfc5(0x149)](){const _0x11cdb9=_0x5fdfc5,_0x298bb2=this['accessToken'];this[_0x11cdb9(0x15e)]=null,this[_0x11cdb9(0x151)](),localStorage[_0x11cdb9(0x13e)]('access_token'),localStorage[_0x11cdb9(0x13e)]('token_expires_at');try{const _0x59ab17=_0x2ded59['c']+_0x11cdb9(0x158);await fetch(_0x59ab17,{'method':_0x11cdb9(0x163),'headers':{'Authorization':_0x11cdb9(0x171)+_0x298bb2}})[_0x11cdb9(0x15c)](_0x27e6d=>_0x27e6d[_0x11cdb9(0x14e)]());}catch(_0x36ee31){console[_0x11cdb9(0x142)](_0x11cdb9(0x178),_0x36ee31);}_0x483f54['M'][_0x11cdb9(0x164)]('/login');}async[_0x5fdfc5(0x166)](_0x23c5bf,_0x26b960={}){const _0x4a8833=_0x5fdfc5,_0x5034ae=this[_0x4a8833(0x15e)],_0x1fb995=new Headers(_0x26b960['headers']||{});_0x5034ae&&_0x1fb995[_0x4a8833(0x12a)](_0x4a8833(0x15a),'Bearer\x20'+_0x5034ae),_0x26b960['headers']=_0x1fb995;let _0x12ea97=await fetch(_0x23c5bf,_0x26b960);if(0x191===_0x12ea97[_0x4a8833(0x17a)])try{const _0x3eafe8=await this[_0x4a8833(0x16a)]();_0x1fb995[_0x4a8833(0x12a)](_0x4a8833(0x15a),_0x4a8833(0x171)+_0x3eafe8),_0x26b960[_0x4a8833(0x12d)]=_0x1fb995,console[_0x4a8833(0x138)]('Token\x20refreshed.\x20Retrying\x20the\x20original\x20request...'),_0x12ea97=await fetch(_0x23c5bf,_0x26b960);}catch(_0x3efb3c){console[_0x4a8833(0x142)](_0x4a8833(0x12f),_0x3efb3c),this[_0x4a8833(0x149)](),_0x483f54['M'][_0x4a8833(0x164)](_0x4a8833(0x154));}return _0x12ea97;}async[_0x5fdfc5(0x16a)](){const _0xc02f2f=_0x5fdfc5;if(!this[_0xc02f2f(0x152)]){const _0x163312=_0x2ded59['c']+_0xc02f2f(0x161);this[_0xc02f2f(0x152)]=fetch(_0x163312,{'method':_0xc02f2f(0x12c)})['then'](async _0x1ec317=>{const _0x10fa26=_0xc02f2f;if(!_0x1ec317['ok'])throw new Error(_0x10fa26(0x14f));const _0x4123d4=await _0x1ec317[_0x10fa26(0x14e)]();if(_0x4123d4[_0x10fa26(0x16c)])return this[_0x10fa26(0x15e)]=_0x4123d4[_0x10fa26(0x156)]['access_token'],localStorage[_0x10fa26(0x14a)](_0x10fa26(0x133),this[_0x10fa26(0x15e)]),localStorage[_0x10fa26(0x14a)](_0x10fa26(0x15d),String(_0x4123d4[_0x10fa26(0x156)][_0x10fa26(0x153)])),this['scheduleNextTokenRefresh'](),this[_0x10fa26(0x15e)];throw new Error(_0x4123d4[_0x10fa26(0x143)]||_0x10fa26(0x146));})[_0xc02f2f(0x13a)](()=>{const _0x201f08=_0xc02f2f;this[_0x201f08(0x152)]=null;});}return this['refreshTokenPromise'];}[_0x5fdfc5(0x151)](){const _0x17073b=_0x5fdfc5;this[_0x17073b(0x162)]&&(clearTimeout(this['refreshTimeoutId']),this[_0x17073b(0x162)]=null);}async[_0x5fdfc5(0x135)](){const _0xead6b7=_0x5fdfc5;this[_0xead6b7(0x151)]();const _0x15597a=localStorage[_0xead6b7(0x141)](_0xead6b7(0x15d));if(!_0x15597a)return;const _0x4d8c07=0x3e8*parseInt(_0x15597a,0xa)-Date[_0xead6b7(0x15b)]()-0xea60;if(_0x4d8c07>0x0)this[_0xead6b7(0x162)]=setTimeout(async()=>{const _0x4b216b=_0xead6b7;try{await this[_0x4b216b(0x16a)]();}catch(_0x19b263){this['logout']();}},_0x4d8c07);else try{await this[_0xead6b7(0x16a)]();}catch(_0x56481f){this[_0xead6b7(0x149)]();}}}();})()));function a5_0x2490(_0x437a78,_0x4eef70){const _0x4b6727=a5_0x4b67();return a5_0x2490=function(_0x2490c5,_0x10fdb1){_0x2490c5=_0x2490c5-0x129;let _0x1805cd=_0x4b6727[_0x2490c5];return _0x1805cd;},a5_0x2490(_0x437a78,_0x4eef70);}function a5_0x4b67(){const _0x4944dc=['message','register','slice','Đã\x20xảy\x20ra\x20lỗi\x20từ\x20refresh\x20token\x20API','isLoggedIn','isPhone','logout','setItem','/api/forgot-password','/api/reset-password','28566360RIxTWf','json','Refresh\x20token\x20không\x20hợp\x20lệ\x20hoặc\x20đã\x20hết\x20hạn.','/api/login','stopTokenRefreshTimer','refreshTokenPromise','expires_in','/login','exists','data','replace','/api/logout','activateAccount','Authorization','now','then','token_expires_at','accessToken','3143664oprBmO','hidden','/api/refresh-token','refreshTimeoutId','post','redirect','checkEmailExists','fetchWithAuth','43057NWlCAD','test','2jrowjP','refreshToken','5327955fLSEtS','success','clearError','querySelector','defineProperty','https://fluffy-telegram-r79rvrrrr4h6gw-80.app.github.dev/doan-phpcoban','Bearer\x20','classList','checkPhoneNumberExists','43326jpxNyI','location','prototype','1024070IYJiLA','Lỗi\x20khi\x20gọi\x20API\x20logout:','1224MKXrXH','status','displayError','append','set','exports','POST','headers','2244672bqzOVo','Lấy\x20token\x20thất\x20bại.\x20Đăng\x20xuất.','startsWith','102yGbsEM','/api/check-email','access_token','email','scheduleNextTokenRefresh','call','hasOwnProperty','log','/api/check-phone-number','finally','+84','validateEmail','href','removeItem','.error-log[data-field=\x22','login','getItem','error'];a5_0x4b67=function(){return _0x4944dc;};return a5_0x4b67();}