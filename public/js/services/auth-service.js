(function(_0x432f97,_0x1fa582){const _0x700468=a5_0x109d,_0x3f3c8f=_0x432f97();while(!![]){try{const _0x332d04=-parseInt(_0x700468(0x122))/0x1+parseInt(_0x700468(0x123))/0x2+-parseInt(_0x700468(0x121))/0x3+parseInt(_0x700468(0x136))/0x4+parseInt(_0x700468(0x13e))/0x5*(parseInt(_0x700468(0x141))/0x6)+parseInt(_0x700468(0x14e))/0x7+parseInt(_0x700468(0x152))/0x8*(-parseInt(_0x700468(0x131))/0x9);if(_0x332d04===_0x1fa582)break;else _0x3f3c8f['push'](_0x3f3c8f['shift']());}catch(_0x9c007b){_0x3f3c8f['push'](_0x3f3c8f['shift']());}}}(a5_0x1602,0xee803),((()=>{'use strict';const _0x4ded3c=a5_0x109d;var _0x3ead13={0x1ae:(_0x16a396,_0x15aebb,_0x2cb938)=>{_0x2cb938['d'](_0x15aebb,{'c':()=>_0x15e2e2});const _0x15e2e2='https://fluffy-telegram-r79rvrrrr4h6gw-80.app.github.dev/doan-phpcoban';}},_0x552146={};function _0xca17dc(_0x4970c5){const _0x4849f3=a5_0x109d;var _0x21b09b=_0x552146[_0x4970c5];if(void 0x0!==_0x21b09b)return _0x21b09b[_0x4849f3(0x12c)];var _0x2cf85d=_0x552146[_0x4970c5]={'exports':{}};return _0x3ead13[_0x4970c5](_0x2cf85d,_0x2cf85d['exports'],_0xca17dc),_0x2cf85d[_0x4849f3(0x12c)];}_0xca17dc['d']=(_0x1ca780,_0x4ea928)=>{const _0x534ecd=a5_0x109d;for(var _0x5e656d in _0x4ea928)_0xca17dc['o'](_0x4ea928,_0x5e656d)&&!_0xca17dc['o'](_0x1ca780,_0x5e656d)&&Object[_0x534ecd(0x127)](_0x1ca780,_0x5e656d,{'enumerable':!0x0,'get':_0x4ea928[_0x5e656d]});},_0xca17dc['o']=(_0x78a6b6,_0x4d9eb4)=>Object['prototype']['hasOwnProperty'][_0x4ded3c(0x140)](_0x78a6b6,_0x4d9eb4);var _0x211a9c=_0xca17dc(0x1ae);new class{['accessToken']=null;['refreshTokenPromise']=null;constructor(){const _0x128a3e=_0x4ded3c;this['accessToken']=localStorage[_0x128a3e(0x126)](_0x128a3e(0x13c));}async[_0x4ded3c(0x134)](_0x2bfd0c){const _0x382e5e=_0x4ded3c,_0x3e531d=new FormData();_0x3e531d[_0x382e5e(0x13f)]('email',_0x2bfd0c);const _0x5242db=_0x211a9c['c']+'/api/check-email';try{const _0x2eaef6=await fetch(_0x5242db,{'method':_0x382e5e(0x124),'body':_0x3e531d})[_0x382e5e(0x147)](_0x2f963a=>_0x2f963a[_0x382e5e(0x13b)]());return!!_0x2eaef6[_0x382e5e(0x14b)]&&_0x2eaef6[_0x382e5e(0x144)][_0x382e5e(0x133)];}catch(_0x1faa5e){console[_0x382e5e(0x13a)](_0x1faa5e);}}async[_0x4ded3c(0x135)](_0x23a6f4){const _0x33ed47=_0x4ded3c,_0x24d096=new FormData();_0x24d096[_0x33ed47(0x13f)](_0x33ed47(0x120),_0x23a6f4);const _0x47da45=_0x211a9c['c']+_0x33ed47(0x146);try{const _0x2f01f5=await fetch(_0x47da45,{'method':_0x33ed47(0x124),'body':_0x24d096})[_0x33ed47(0x147)](_0x370250=>_0x370250[_0x33ed47(0x13b)]());return!!_0x2f01f5[_0x33ed47(0x14b)]&&_0x2f01f5[_0x33ed47(0x144)][_0x33ed47(0x133)];}catch(_0x146769){console[_0x33ed47(0x13a)](_0x146769);}}[_0x4ded3c(0x14a)](){const _0x43464e=_0x4ded3c;return null!==this[_0x43464e(0x154)];}async[_0x4ded3c(0x125)](_0x499d80){const _0x2b412c=_0x4ded3c,_0x4c8348=_0x211a9c['c']+'/api/register';return await fetch(_0x4c8348,{'method':_0x2b412c(0x124),'body':_0x499d80})[_0x2b412c(0x147)](_0x1a30bb=>_0x1a30bb['json']());}async[_0x4ded3c(0x129)](_0x42c0c8){const _0x2f2741=_0x4ded3c,_0x1144bb=_0x211a9c['c']+_0x2f2741(0x14c);return await fetch(_0x1144bb,{'method':_0x2f2741(0x124),'body':_0x42c0c8})[_0x2f2741(0x147)](_0x77c025=>_0x77c025[_0x2f2741(0x13b)]());}async[_0x4ded3c(0x138)](_0x382b62){const _0x3aaaac=_0x4ded3c,_0x2907ef=_0x211a9c['c']+'/api/login',_0x2b6959=await fetch(_0x2907ef,{'method':'post','body':_0x382b62})[_0x3aaaac(0x147)](_0x4173b3=>_0x4173b3[_0x3aaaac(0x13b)]());return _0x2b6959['success']&&(this[_0x3aaaac(0x154)]=_0x2b6959[_0x3aaaac(0x144)][_0x3aaaac(0x13c)],localStorage[_0x3aaaac(0x12a)]('access_token',_0x2b6959[_0x3aaaac(0x144)]['access_token'])),_0x2b6959;}async[_0x4ded3c(0x14d)](_0x3470bf){const _0x16ac7b=_0x4ded3c,_0x3a0803=_0x211a9c['c']+'/api/forgot-password';return await fetch(_0x3a0803,{'method':_0x16ac7b(0x124),'body':_0x3470bf})[_0x16ac7b(0x147)](_0x1cf5dd=>_0x1cf5dd[_0x16ac7b(0x13b)]());}async[_0x4ded3c(0x14f)](_0x3d662b){const _0x741b7f=_0x4ded3c,_0x2b6c1d=_0x211a9c['c']+_0x741b7f(0x150);return await fetch(_0x2b6c1d,{'method':'post','body':_0x3d662b})[_0x741b7f(0x147)](_0x26cd7f=>_0x26cd7f[_0x741b7f(0x13b)]());}async[_0x4ded3c(0x149)](){const _0x1b80b9=_0x4ded3c,_0x15d205=this[_0x1b80b9(0x154)];this[_0x1b80b9(0x154)]=null,localStorage[_0x1b80b9(0x130)](_0x1b80b9(0x13c));try{const _0x4e6510=_0x211a9c['c']+_0x1b80b9(0x143);return await fetch(_0x4e6510,{'method':_0x1b80b9(0x124),'headers':{'Authorization':_0x1b80b9(0x153)+_0x15d205}})[_0x1b80b9(0x147)](_0x27ea61=>_0x27ea61['json']());}catch(_0x2ecdc3){console[_0x1b80b9(0x13a)]('Lỗi\x20khi\x20gọi\x20API\x20logout:',_0x2ecdc3);}}async[_0x4ded3c(0x12d)](_0xa75487,_0x1688cf={}){const _0x1f215f=_0x4ded3c;let _0x379a4f=this[_0x1f215f(0x154)];const _0x5979ad=new Headers(_0x1688cf[_0x1f215f(0x12f)]||{});_0x379a4f&&_0x5979ad['set'](_0x1f215f(0x145),_0x1f215f(0x153)+_0x379a4f),_0x1688cf[_0x1f215f(0x12f)]=_0x5979ad;let _0xf16771=await fetch(_0xa75487,_0x1688cf);if(0x191===_0xf16771[_0x1f215f(0x132)])try{const _0xf7f3b6=await this[_0x1f215f(0x148)]();_0x5979ad[_0x1f215f(0x137)](_0x1f215f(0x145),'Bearer\x20'+_0xf7f3b6),_0x1688cf['headers']=_0x5979ad,console['log'](_0x1f215f(0x12e)),_0xf16771=await fetch(_0xa75487,_0x1688cf);}catch(_0x5989d2){console['error']('Failed\x20to\x20refresh\x20token.\x20Logging\x20out.',_0x5989d2),this['logout'](),window['location'][_0x1f215f(0x12b)]=_0x1f215f(0x139);}return _0xf16771;}async[_0x4ded3c(0x148)](){const _0x89b7f2=_0x4ded3c;return this[_0x89b7f2(0x13d)]||(this[_0x89b7f2(0x13d)]=fetch('/api/refresh-token',{'method':_0x89b7f2(0x128)})[_0x89b7f2(0x147)](async _0x1fce57=>{const _0x316389=_0x89b7f2;if(!_0x1fce57['ok'])throw new Error(_0x316389(0x151));const _0x1b67ab=await _0x1fce57[_0x316389(0x13b)]();return this[_0x316389(0x138)](_0x1b67ab['access_token']),_0x1b67ab['access_token'];})[_0x89b7f2(0x142)](()=>{const _0x5a2024=_0x89b7f2;this[_0x5a2024(0x13d)]=null;})),this[_0x89b7f2(0x13d)];}}();})()));function a5_0x109d(_0x5bffe6,_0x1f087d){const _0x1602b5=a5_0x1602();return a5_0x109d=function(_0x109d16,_0x5f5b97){_0x109d16=_0x109d16-0x120;let _0x4d07cf=_0x1602b5[_0x109d16];return _0x4d07cf;},a5_0x109d(_0x5bffe6,_0x1f087d);}function a5_0x1602(){const _0x859fb8=['fetchWithAuth','Token\x20refreshed.\x20Retrying\x20the\x20original\x20request...','headers','removeItem','63wKgkoX','status','exists','checkEmailExists','checkPhoneNumberExists','1800288jjiJbD','set','login','/login','error','json','access_token','refreshTokenPromise','10xdYFbc','append','call','4515672NwhwaI','finally','/api/logout','data','Authorization','/api/check-phone-number','then','refreshToken','logout','isLoggedIn','success','/api/activate','forgotPassword','2343628nqYPOF','resetPassword','/api/reset-password','Refresh\x20token\x20failed','159568oEfUMH','Bearer\x20','accessToken','phone_number','431175AFjKSg','1059642LNYfqV','59576aptMVX','post','register','getItem','defineProperty','POST','activateAccount','setItem','href','exports'];a5_0x1602=function(){return _0x859fb8;};return a5_0x1602();}